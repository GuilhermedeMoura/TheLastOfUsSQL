/*
Curso: ngenharia de Software - UniEVANGÃ‰LICA

Disciplina: Sistemas Gerenciadores de Banco de Dados 

Dev: Guilherme de Moura Santos - 2110362

Data: 27/03/2023
*/

INSERT INTO jogador_personagem_arma (id_relacionamento, id_jogador, id_personagem, id_arma, data_aquisicao)
VALUES
        (1, 1, 1, 1, '2022-03-01'),
        (2, 1, 2, 2, '2022-03-02'),
        (3, 2, 3, 3, '2022-03-03'),
        (4, 2, 4, 4, '2022-03-04'),
        (5, 3, 5, 5, '2022-03-05'),
        (6, 3, 6, 6, '2022-03-06'),
        (7, 4, 7, 7, '2022-03-07'),
        (8, 4, 8, 8, '2022-03-08'),
        (9, 5, 9, 9, '2022-03-09'),
        (10, 5, 10, 10, '2022-03-10'),
        (11, 6, 1, 2, '2022-03-11'),
        (12, 6, 2, 3, '2022-03-12'),
        (13, 7, 3, 4, '2022-03-13'),
        (14, 7, 4, 5, '2022-03-14'),
        (15, 8, 5, 6, '2022-03-15'),
        (16, 8, 6, 7, '2022-03-16'),
        (17, 9, 7, 8, '2022-03-17'),
        (18, 9, 8, 9, '2022-03-18'),
        (19, 10, 9, 10, '2022-03-19'),
        (20, 10, 10, 1, '2022-03-20'),
        (21, 11, 1, 2, '2022-03-21'),
        (22, 11, 2, 3, '2022-03-22'),
        (23, 12, 3, 4, '2022-03-23'),
        (24, 12, 4, 5, '2022-03-24'),
        (25, 13, 5, 6, '2022-03-25'),
        (26, 13, 6, 7, '2022-03-26'),
        (27, 14, 7, 8, '2022-03-27'),
        (28, 14, 8, 9, '2022-03-28'),
        (29, 15, 9, 10, '2022-03-29'),
        (30, 15, 10, 1, '2022-03-30'),
        (31, 16, 1, 2, '2022-03-31'),
        (32, 16, 2, 3, '2022-04-01'),
        (33, 17, 3, 4, '2022-04-02'),
        (34, 17, 4, 5, '2022-04-03'),
        (35, 18, 5, 6, '2022-04-04'),
        (36, 18, 6, 7, '2022-04-05'),
        (37, 19, 7, 8, '2022-04-06'),
        (38, 19, 8, 9, '2022-04-07'),
        (39, 20, 9, 10, '2022-04-08'),
        (40, 20, 10, 1, '2022-04-09'),
        (41, 21, 1, 2, '2022-04-10'),
        (42, 21, 2, 3, '2022-04-11'),
        (43, 22, 3, 4, '2022-04-12'),
        (44, 22, 4, 5, '2022-04-13'),
        (45, 23, 5, 6, '2022-04-14'),
        (46, 23, 6, 7, '2022-04-15'),
        (47, 24, 7, 8, '2022-04-16'),
        (48, 24, 8, 9, '2022-04-17'),
        (49, 25, 9, 10, '2022-04-18'),
        (50, 25, 10, 1, '2022-04-19'),
        (51, 26, 1, 2, '2022-04-20'),
        (52, 26, 2, 3, '2022-04-21'),
        (53, 27, 3, 4, '2022-04-22'),
        (54, 27, 4, 5, '2022-04-23'),
        (55, 28, 5, 6, '2022-04-24'),
        (56, 28, 6, 7, '2022-04-25'),
        (57, 29, 7, 8, '2022-04-26'),
        (58, 29, 8, 9, '2022-04-27'),
        (59, 30, 9, 10, '2022-04-28'),
        (60, 30, 10, 1, '2022-04-29'),
        (61, 31, 1, 2, '2022-04-30'),
        (62, 31, 2, 3, '2022-05-01'),
        (63, 32, 3, 4, '2022-05-02'),
        (64, 32, 4, 5, '2022-05-03'),
        (65, 33, 5, 6, '2022-05-04'),
        (66, 33, 6, 7, '2022-05-05'),
        (67, 34, 7, 8, '2022-05-06'),
        (68, 34, 8, 9, '2022-05-07'),
        (69, 35, 9, 10, '2022-05-08'),
        (70, 35, 10, 1, '2022-05-09'),
        (71, 36, 1, 2, '2022-05-10'),
        (72, 36, 2, 3, '2022-05-11'),
        (73, 37, 3, 4, '2022-05-12'),
        (74, 37, 4, 5, '2022-05-13'),
        (75, 38, 5, 6, '2022-05-14'),
        (76, 38, 6, 7, '2022-05-15'),
        (77, 39, 7, 8, '2022-05-16'),
        (78, 39, 8, 9, '2022-05-17'),
        (79, 40, 9, 10, '2022-05-18'),
        (80, 40, 10, 1, '2022-05-19'),
        (81, 41, 1, 2, '2022-05-20'),
        (82, 41, 2, 3, '2022-05-21'),
        (83, 42, 3, 4, '2022-05-22'),
        (84, 42, 4, 5, '2022-05-23'),
        (85, 43, 5, 6, '2022-05-24'),
        (86, 43, 6, 7, '2022-05-25'),
        (87, 44, 7, 8, '2022-05-26'),
        (88, 44, 8, 9, '2022-05-27'),
        (89, 45, 9, 10, '2022-05-28'),
        (90, 45, 10, 1, '2022-05-29'),
        (91, 46, 1, 2, '2022-05-30'),
        (92, 46, 2, 3, '2022-05-31'),
        (93, 31, 2, 9, '2022-07-01'),
        (94, 32, 3, 10, '2022-07-02'),
        (95, 32, 4, 1, '2022-07-03'),
        (96, 33, 5, 2, '2022-07-04'),
        (97, 33, 6, 3, '2022-07-05'),
        (98, 34, 7, 4, '2022-07-06'),
        (99, 34, 8, 5, '2022-07-07'),
        (100, 35, 9, 6, '2022-07-08');

SELECT * FROM jogador j
JOIN jogador_personagem_arma jpa ON j.id_jogador = jpa.id_jogador
WHERE (jpa.id_personagem IS NOT NULL AND jpa.id_arma IS NOT NULL) AND jpa.data_aquisicao IS NULL;


SELECT nome_jogador, nome_personagem, nome_arma FROM jogador_personagem_arma
JOIN jogador ON jogador.id_jogador = jogador_personagem_arma.id_jogador
JOIN personagem ON personagem.id_personagem = jogador_personagem_arma.id_personagem
JOIN arma ON arma.id_arma = jogador_personagem_arma.id_arma; -- Retorna o nome do jogador, personagem e arma associados ao relacionamento Jogador_Personagem_Arma
SELECT j.nome_jogador, p.nome_personagem, jpa.data_aquisicao
FROM jogador j
INNER JOIN jogador_personagem_arma jpa ON j.id_jogador = jpa.id_jogador
INNER JOIN personagem p ON jpa.id_personagem = p.id_personagem;

SELECT j.nome_jogador, p.nome_personagem, a.nome_arma, a.municao
FROM jogador j
INNER JOIN jogador_personagem_arma jpa ON j.id_jogador = jpa.id_jogador
INNER JOIN arma a ON jpa.id_arma = a.id_arma
INNER JOIN personagem p ON jpa.id_personagem = p.id_personagem;

SELECT jogador.* FROM jogador
INNER JOIN jogador_personagem_arma ON jogador.id_jogador = jogador_personagem_arma.id_jogador
INNER JOIN personagem ON jogador_personagem_arma.id_personagem = personagem.id_personagem
WHERE personagem.idade > 30 AND personagem.habilidades LIKE '%furtividade%';

SELECT personagem.nome_personagem, personagem.idade, personagem.habilidades FROM personagem
INNER JOIN jogador_personagem_arma ON personagem.id_personagem = jogador_personagem_arma.id_personagem
INNER JOIN jogador ON jogador_personagem_arma.id_jogador = jogador.id_jogador
WHERE jogador.email = 'johndoe@example.com';